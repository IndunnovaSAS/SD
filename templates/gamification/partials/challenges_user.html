<div class="user-challenges">
    <div class="challenges-summary mb-4">
        <div class="row">
            <div class="col-md-4">
                <div class="stat-card">
                    <span class="stat-number">{{ active|length }}</span>
                    <span class="stat-label">Activos</span>
                </div>
            </div>
            <div class="col-md-4">
                <div class="stat-card">
                    <span class="stat-number">{{ total_completed }}</span>
                    <span class="stat-label">Completados</span>
                </div>
            </div>
            <div class="col-md-4">
                <div class="stat-card">
                    <span class="stat-number">{{ total_points_earned }}</span>
                    <span class="stat-label">Puntos Ganados</span>
                </div>
            </div>
        </div>
    </div>

    {% if active %}
    <h5>Desafios Activos</h5>
    <div class="challenges-list">
        {% for uc in active %}
        <div class="challenge-card">
            <h6>{{ uc.challenge.name }}</h6>
            <div class="progress">
                <div class="progress-bar" style="width: {{ uc.progress_percentage }}%"></div>
            </div>
            <span>{{ uc.current_value }}/{{ uc.challenge.target_value }}</span>
        </div>
        {% endfor %}
    </div>
    {% endif %}

    {% if completed %}
    <h5 class="mt-4">Desafios Completados</h5>
    <div class="challenges-list">
        {% for uc in completed %}
        <div class="challenge-card completed">
            <h6>{{ uc.challenge.name }}</h6>
            <span class="badge bg-success">Completado</span>
            <span>+{{ uc.points_earned }} puntos</span>
        </div>
        {% endfor %}
    </div>
    {% endif %}
</div>
